<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libft900: USBH_xfer Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="brtlogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">libft900<span id="projectnumber">&#160;2.7.0</span>
   </div>
   <div id="projectbrief">A hardware abstraction library for the FT9xx</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">USBH_xfer Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Structure that represents a USB transfer. This structure is used to hold information about a pending periodic or asynchronous transfer. The actual data is stored within the EHCI Transfer Descriptor (qTD). This structure will be populated by a call to perform a transfer. It is used internally in the USBH library to keep track of current transfers and any information pertinent to the transfer (e.g. for callback functions when completed).  
 <a href="struct_u_s_b_h__xfer.html#details">More...</a></p>

<p><code>#include &lt;ft900_usbh_internal.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a85d9f73f93f9317a9366292a8fb1a6a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b_h__endpoint.html">USBH_endpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a85d9f73f93f9317a9366292a8fb1a6a2">endpoint</a></td></tr>
<tr class="separator:a85d9f73f93f9317a9366292a8fb1a6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e78d05c43c3bfd5ea3bdfe4eebb4c8"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a15e78d05c43c3bfd5ea3bdfe4eebb4c8">timeout</a></td></tr>
<tr class="separator:a15e78d05c43c3bfd5ea3bdfe4eebb4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf367252e7e73264796712b853273ba2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#adf367252e7e73264796712b853273ba2">length</a></td></tr>
<tr class="separator:adf367252e7e73264796712b853273ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e08530867ecc2528447856ff83e73d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a78e08530867ecc2528447856ff83e73d">status</a></td></tr>
<tr class="separator:a78e08530867ecc2528447856ff83e73d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf53036eee1f987b7a6c7440ac3a9635"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b_h__list__entry.html">USBH_list_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#adf53036eee1f987b7a6c7440ac3a9635">hc_entry</a></td></tr>
<tr class="separator:adf53036eee1f987b7a6c7440ac3a9635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1bf2b65bf18fe9757c5e22a621edfd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b_h__qtd.html">USBH_qtd</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#ac1bf2b65bf18fe9757c5e22a621edfd8">hc_qtd</a></td></tr>
<tr class="separator:ac1bf2b65bf18fe9757c5e22a621edfd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e5982143bd4a3a7b3563cca8ee967a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b_h__xfer.html">USBH_xfer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a54e5982143bd4a3a7b3563cca8ee967a">next</a></td></tr>
<tr class="separator:a54e5982143bd4a3a7b3563cca8ee967a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3496fbf1948721c005cd34949bdc4b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a1b3496fbf1948721c005cd34949bdc4b">id</a></td></tr>
<tr class="separator:a1b3496fbf1948721c005cd34949bdc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94bc4010468a5fa9bbfc5fb8ba4c340a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ft900__usbh_8h.html#afc85fd701b2d75f74ca4aa8b5301cb03">USBH_callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a94bc4010468a5fa9bbfc5fb8ba4c340a">callback</a></td></tr>
<tr class="separator:a94bc4010468a5fa9bbfc5fb8ba4c340a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18647991ffb5a55124003b59981e39e7"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a18647991ffb5a55124003b59981e39e7">hc_buf</a></td></tr>
<tr class="separator:a18647991ffb5a55124003b59981e39e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6dc47579f50b80d3e76ce9e73de306"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a3a6dc47579f50b80d3e76ce9e73de306">hc_len</a></td></tr>
<tr class="separator:a3a6dc47579f50b80d3e76ce9e73de306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c8d05d0608e879cc7ab9e9c5c3b1fa"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a03c8d05d0608e879cc7ab9e9c5c3b1fa">dest_buf</a></td></tr>
<tr class="separator:a03c8d05d0608e879cc7ab9e9c5c3b1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc10359c92ef7051f21562a1d3abd84"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#acbc10359c92ef7051f21562a1d3abd84">dest_len</a></td></tr>
<tr class="separator:acbc10359c92ef7051f21562a1d3abd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2869a5c291a78c0e5ec0ed7a5155934d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_h__xfer.html#a2869a5c291a78c0e5ec0ed7a5155934d">microframe</a></td></tr>
<tr class="separator:a2869a5c291a78c0e5ec0ed7a5155934d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Structure that represents a USB transfer. This structure is used to hold information about a pending periodic or asynchronous transfer. The actual data is stored within the EHCI Transfer Descriptor (qTD). This structure will be populated by a call to perform a transfer. It is used internally in the USBH library to keep track of current transfers and any information pertinent to the transfer (e.g. for callback functions when completed). </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a94bc4010468a5fa9bbfc5fb8ba4c340a" name="a94bc4010468a5fa9bbfc5fb8ba4c340a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94bc4010468a5fa9bbfc5fb8ba4c340a">&#9670;&nbsp;</a></span>callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ft900__usbh_8h.html#afc85fd701b2d75f74ca4aa8b5301cb03">USBH_callback</a> USBH_xfer::callback</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asynchronous only: Callback function to execute when transfer is completed. </p>

</div>
</div>
<a id="a03c8d05d0608e879cc7ab9e9c5c3b1fa" name="a03c8d05d0608e879cc7ab9e9c5c3b1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c8d05d0608e879cc7ab9e9c5c3b1fa">&#9670;&nbsp;</a></span>dest_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* USBH_xfer::dest_buf</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asynchronous only: Pointer to main memory data buffer where data received from the device are copied to. </p>

</div>
</div>
<a id="acbc10359c92ef7051f21562a1d3abd84" name="acbc10359c92ef7051f21562a1d3abd84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc10359c92ef7051f21562a1d3abd84">&#9670;&nbsp;</a></span>dest_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t USBH_xfer::dest_len</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asynchronous only: Actual length of data placed in dest_buf buffer from EHCI RAM memory. </p>

</div>
</div>
<a id="a85d9f73f93f9317a9366292a8fb1a6a2" name="a85d9f73f93f9317a9366292a8fb1a6a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d9f73f93f9317a9366292a8fb1a6a2">&#9670;&nbsp;</a></span>endpoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b_h__endpoint.html">USBH_endpoint</a>* USBH_xfer::endpoint</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Endpoint reference. The target or source endpoint for data for this transaction. If this is NULL then the qh member is used. </p>

</div>
</div>
<a id="a18647991ffb5a55124003b59981e39e7" name="a18647991ffb5a55124003b59981e39e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18647991ffb5a55124003b59981e39e7">&#9670;&nbsp;</a></span>hc_buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* USBH_xfer::hc_buf</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asynchronous only: Pointer to data buffer in EHCI RAM memory to receive response from device or to hold data to transmit. </p>

</div>
</div>
<a id="adf53036eee1f987b7a6c7440ac3a9635" name="adf53036eee1f987b7a6c7440ac3a9635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf53036eee1f987b7a6c7440ac3a9635">&#9670;&nbsp;</a></span>hc_entry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b_h__list__entry.html">USBH_list_entry</a> USBH_xfer::hc_entry</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pointer to the queue header for this transfer in USBH memory (CPU address). </p>

</div>
</div>
<a id="a3a6dc47579f50b80d3e76ce9e73de306" name="a3a6dc47579f50b80d3e76ce9e73de306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6dc47579f50b80d3e76ce9e73de306">&#9670;&nbsp;</a></span>hc_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t USBH_xfer::hc_len</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Size of EHCI RAM memory allocated for hc_buf. </p>

</div>
</div>
<a id="ac1bf2b65bf18fe9757c5e22a621edfd8" name="ac1bf2b65bf18fe9757c5e22a621edfd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1bf2b65bf18fe9757c5e22a621edfd8">&#9670;&nbsp;</a></span>hc_qtd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b_h__qtd.html">USBH_qtd</a>* USBH_xfer::hc_qtd</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pointer to the transfer descriptor for this transfer in USBH memory (CPU address). </p>

</div>
</div>
<a id="a1b3496fbf1948721c005cd34949bdc4b" name="a1b3496fbf1948721c005cd34949bdc4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3496fbf1948721c005cd34949bdc4b">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBH_xfer::id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asynchronous only: Identifier to pass to the Callback function to uniquely identify this transfer. </p>

</div>
</div>
<a id="adf367252e7e73264796712b853273ba2" name="adf367252e7e73264796712b853273ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf367252e7e73264796712b853273ba2">&#9670;&nbsp;</a></span>length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t USBH_xfer::length</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Length of data actually transferred. </p>

</div>
</div>
<a id="a2869a5c291a78c0e5ec0ed7a5155934d" name="a2869a5c291a78c0e5ec0ed7a5155934d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2869a5c291a78c0e5ec0ed7a5155934d">&#9670;&nbsp;</a></span>microframe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t USBH_xfer::microframe</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asynchronous only: Microframe number of periodic schedule where this transfer has been added. For High-speed isochronous (iTD) this will identify the time slot in the iTD where the status can be found. Shift right 3 bits to obtain the frame number in the periodic list. </p>

</div>
</div>
<a id="a54e5982143bd4a3a7b3563cca8ee967a" name="a54e5982143bd4a3a7b3563cca8ee967a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e5982143bd4a3a7b3563cca8ee967a">&#9670;&nbsp;</a></span>next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b_h__xfer.html">USBH_xfer</a>* USBH_xfer::next</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pointer to the next <a class="el" href="struct_u_s_b_h__xfer.html" title="Structure that represents a USB transfer. This structure is used to hold information about a pending ...">USBH_xfer</a> structure in a list of active transfers. A NULL pointer indicates the end of the transfer list. This list is separately maintained by the library to facilitate timeout processing. It is not related to the pointers in the qTD or QH structures. </p>

</div>
</div>
<a id="a78e08530867ecc2528447856ff83e73d" name="a78e08530867ecc2528447856ff83e73d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78e08530867ecc2528447856ff83e73d">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t USBH_xfer::status</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Status. Stalled, completed, overrun, underrun etc. </p>

</div>
</div>
<a id="a15e78d05c43c3bfd5ea3bdfe4eebb4c8" name="a15e78d05c43c3bfd5ea3bdfe4eebb4c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15e78d05c43c3bfd5ea3bdfe4eebb4c8">&#9670;&nbsp;</a></span>timeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t USBH_xfer::timeout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Timeout. Initially set with the timout period required. Decremented for each millisecond timer tick (call to USBH_timer). When this reaches zero the transfer is marked as timed-out and it's qTD removed from the queue. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/private/<a class="el" href="ft900__usbh__internal_8h.html">ft900_usbh_internal.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 6 2023 14:42:04 for libft900 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
